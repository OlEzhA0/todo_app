(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(8),l=n.n(r),c=(n(15),n(16),n(1)),u=n(6),i=n(2),s=n(3),d=n(5),f=n(4),p=function(){return a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"))},m=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={newTodoValue:"",errorAddNewTodo:!1},e.writeNewTodo=function(t){var n=e.state,o=n.errorAddNewTodo,a=n.newTodoValue,r=t.target.value.replace(/^\s+/,"");e.setState({newTodoValue:r}),a.length>=2&&o&&e.setState({errorAddNewTodo:!1})},e.submitTodo=function(t){var n=e.props.validateInput,o=e.state.newTodoValue;t.preventDefault(),n(o),o.length>=3?e.setState((function(){return{newTodoValue:""}})):e.setState({errorAddNewTodo:!0})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.newTodoValue,n=e.errorAddNewTodo,o=this.props,r=o.todos,l=o.selectAllTodo,c=o.selectAll;return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:this.submitTodo,className:"formAddTodo"},r.length>=1&&a.a.createElement("button",{type:"button",className:c?"buttonSelectAll act":"buttonSelectAll dis",onClick:function(){return l()}},"\u276f"),a.a.createElement("input",{className:n?"new-todo new-todo__error":"new-todo",placeholder:"What needs to be done?",value:t,onChange:this.writeNewTodo})))}}]),n}(a.a.Component),h=n(9),g=n.n(h),v=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editingId:"",newValue:"",inputError:!1},e.editTodoValue=function(t,n){e.setState((function(){return{editingId:t,newValue:n,inputError:!1}}))},e.changeTodoValue=function(t){var n=t.target.value.replace(/^ /,"");e.setState({newValue:n})},e.handleLostFocus=function(){var t=e.props.changeTodoValue;e.setState((function(e){var n=!1;return e.newValue.length<3?{inputError:n=!0}:(t(e.editingId,e.newValue),{inputError:n,editingId:"",newValue:""})}))},e.handleTodoInput=function(t){var n=e.props.changeTodoValue,o=t.key;e.setState((function(e){return"Enter"===o&&e.newValue.length>=3?(n(e.editingId,e.newValue),{editingId:"",newValue:"",inputError:!1}):"Enter"===o&&e.newValue.length<3?{inputError:!0}:"Escape"===o?{editingId:"",newValue:"",inputError:!1}:e.newValue.length>=3?{inputError:!1}:void 0}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,o=t.changeStatusComplete,r=t.destroyTodo,l=this.state,c=l.editingId,u=l.newValue,i=l.inputError;return console.log(this.state.inputError),a.a.createElement("ul",{className:"todo-list"},n.map((function(t){return a.a.createElement("li",{key:t.id,onDoubleClick:function(){return e.editTodoValue(t.id,t.value)},className:g()({editing:c===t.id,completed:c!==t.id&&t.completed,"":c!==t.id&&!t.completed})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(t.id),checked:t.completed,onChange:function(){return o(t.id)}}),a.a.createElement("label",{htmlFor:"todo-".concat(t.id)},t.value),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return r(t.id)}})),a.a.createElement("input",{type:"text",className:i?"edit new-todo__error":"edit",value:u,onChange:e.changeTodoValue,onKeyDown:e.handleTodoInput,onBlur:e.handleLostFocus}))})))}}]),n}(a.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.activeList,n=e.changePage,o=e.clearCompletedTodo,r=e.lengthItemsLeft;return a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},r," ","items left"),a.a.createElement("ul",{className:"filters"},["all","active","completed"].map((function(e){return a.a.createElement("li",null,a.a.createElement("a",{href:"#/".concat(e),className:t===e?"selected":"",onClick:function(){return n(e)}},e))}))),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return o()}},"Clear completed"))}}]),n}(a.a.PureComponent),b=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={todos:[],activeList:"all",currentId:1,selectAll:!1},e.validateInput=function(t){t.length>=3&&e.addTodo(t)},e.addTodo=function(t){var n=e.state.currentId,o={};o.value=t,o.id=n,o.completed=!1,e.setState((function(e){return{todos:[].concat(Object(u.a)(e.todos),[o]),currentId:e.currentId+1,selectAll:!1}}))},e.applyFilter=function(t){var n=e.state.todos;switch(t){case"all":return n;case"active":return n.filter((function(e){return!e.completed}));case"completed":return n.filter((function(e){return e.completed}));default:return n}},e.changeStatusComplete=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{completed:e.id===t?!e.completed:e.completed})}))}}),(function(){return e.filterTodos()}))},e.destroyTodo=function(t){var n=e.state.todos.filter((function(e){return e.id!==t}));localStorage.removeItem("".concat(t)),e.setState((function(){return{todos:n}}),(function(){var t=e.state.todos;if(localStorage.clear(),t.forEach((function(e,t){return localStorage.setItem("".concat(t+1),JSON.stringify(Object(c.a)({},e)))})),t.length){var n=t[t.length-1].id+1;e.setState({currentId:n})}else e.setState({currentId:1});e.filterTodos()}))},e.changePage=function(t){e.setState({activeList:t})},e.filterTodos=function(){var t=e.state.todos,n=t.filter((function(e){return e.completed}));t.length===n.length?e.setState((function(){return{selectAll:!0}})):e.setState((function(){return{selectAll:!1}}))},e.clearCompletedTodo=function(){var t=e.state.todos.filter((function(e){return!e.completed}));e.setState((function(){return{todos:t}}))},e.selectAllTodo=function(){var t=e.state.selectAll;e.setState((function(e){return{todos:Object(u.a)(e.todos.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{completed:!t})}))),selectAll:!e.selectAll}}),(function(){return e.filterTodos()}))},e.changeTodoValue=function(t,n){var o=e.state.todos;e.setState((function(){return{todos:o.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{value:e.id===t?n:e.value})}))}}),(function(){localStorage.clear(),e.state.todos.forEach((function(e,t){return localStorage.setItem("".concat(t+1),JSON.stringify(Object(c.a)({},e)))}))}))},e.valueOfLocalStorage=function(){for(var t=[],n=1;n<localStorage.length+1;n+=1){var o=JSON.parse(localStorage.getItem("".concat(n)));o&&t.push(o)}if(t.length){var a=t.map((function(e,t){return Object(c.a)(Object(c.a)({},e),{},{id:t+1})})),r=a[a.length-1].id+1;e.setState((function(){return{todos:a,currentId:r}}),(function(){return e.filterTodos()}))}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){localStorage.setItem("".concat(0),JSON.stringify({startItem:"startItem"})),this.valueOfLocalStorage(),this.filterTodos()}},{key:"componentDidUpdate",value:function(){localStorage.clear(),this.state.todos.forEach((function(e,t){return localStorage.setItem("".concat(t+1),JSON.stringify(Object(c.a)({},e)))}))}},{key:"render",value:function(){var e=this.state,t=e.activeList,n=e.todos,o=e.selectAll,r=this.applyFilter(t);return a.a.createElement("section",{className:"todoapp"},a.a.createElement(p,null),a.a.createElement(m,{validateInput:this.validateInput,todos:n,selectAllTodo:this.selectAllTodo,selectAll:o}),a.a.createElement(v,{list:r,changeStatusComplete:this.changeStatusComplete,destroyTodo:this.destroyTodo,changeTodoValue:this.changeTodoValue}),this.state.todos.length>=1&&a.a.createElement(T,{lengthItemsLeft:n.filter((function(e){return!e.completed})).length,changePage:this.changePage,activeList:t,clearCompletedTodo:this.clearCompletedTodo}))}}]),n}(a.a.Component);l.a.render(a.a.createElement(b,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.fa7c76ed.chunk.js.map